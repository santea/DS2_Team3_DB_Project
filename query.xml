<query date="20180207">
    <SELECT_BUILDING>select * from CONSERT_HALL</SELECT_BUILDING>
    <SELECT_PERFORMANCE>select * from CONSERT_HALL where ID='%s' and 1 = %s</SELECT_PERFORMANCE>
    <SELECT_AUDIENCES>select 1</SELECT_AUDIENCES>
    <INSERT_BUILDING>select 1</INSERT_BUILDING>
    <DELETE_BUILDING>select 1</DELETE_BUILDING>
    <INSERT_PERFORMANCE>select 1</INSERT_PERFORMANCE>
    <DELETE_PERFORMANCE>select 1</DELETE_PERFORMANCE>
    <INSERT_AUDIENCE>select 1</INSERT_AUDIENCE>
    <UPDATE_PERFORMANCE>select 1</UPDATE_PERFORMANCE>
    <CREATE_TABLES>create table CONSERT_HALL (
        ID INT UNSIGNED AUTO_INCREMENT,
        NAME VARCHAR(200) NOT NULL,
        ADDRESS VARCHAR(200) NOT NULL,
        PERSONNEL int UNSIGNED CHECK (PERSONNEL > 0),
        PRIMARY KEY(ID)
        );

        create table CONSERT (
        ID INT UNSIGNED AUTO_INCREMENT,
        HALL_ID INT UNSIGNED REFERENCES CONSERT_HALL(ID),
        NAME VARCHAR(200) NOT NULL,
        TYPE VARCHAR(200) NOT NULL,
        PRICE INT UNSIGNED CHECK (PRICE >= 0),
        PRIMARY KEY(ID)
        );


        create table RESERVATION (
        CONSERT_ID int UNSIGNED REFERENCES CONSERT(ID) ,
        SEAT_NO int UNSIGNED CHECK (SEAT_NO > 0),
        AUDIENCE_ID int UNSIGNED REFERENCES AUDIENCE(ID),
        RESERVATION_FLAG boolean DEFAULT False,
        PRIMARY KEY(CONSERT_ID, SEAT_NO)
        );


        create table AUDIENCE (
        ID INT UNSIGNED AUTO_INCREMENT,
        NAME VARCHAR(200) NOT NULL,
        SEX VARCHAR(1) NOT NULL,
        AGE INT UNSIGNED CHECK (AGE > 0),
        PRIMARY KEY(ID)

        );
    </CREATE_TABLES>
</query>